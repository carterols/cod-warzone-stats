(this["webpackJsonpcod-warzone-stats"]=this["webpackJsonpcod-warzone-stats"]||[]).push([[0],{112:function(e,a,t){e.exports=t(141)},117:function(e,a,t){},141:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(117),t(23)),i=t.n(o),s=t(25),u=t(33),m=t(17),d=t(190),p=t(192),g=t(194),f=t(143),h=Object(d.a)((function(e){return{root:{flexGrow:1,marginBottom:e.spacing(3)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function b(){var e=h();return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:"h6",className:e.title},"Warzone BR Stats"))))}var E=t(223),v=t(198),y=t(199),k=t(91),O=t.n(k),S=t(220),x=t(200),N=t(88),w=t.n(N),j=t(89),P=t.n(j),C=t(90),L=t.n(C),B=(t(71),Object(d.a)((function(e){return{platformButton:{padding:"4px",marginRight:"2px"},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)}}})));function R(e){var a=B(),t=Object(n.useState)("battle"),c=Object(m.a)(t,2),l=c[0],o=c[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),g=p[0],f=p[1],h=e.cookies.get("search_history");var b=function(e){o(e.currentTarget.firstChild.firstChild.firstChild.getAttribute("data-value"))},k=function(){var a=Object(u.a)(i.a.mark((function a(){var t;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(g&&0!==g.length){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.search(g,l);case 4:a.sent&&((t=e.cookies.get("search_history"))||(t={}),t.hasOwnProperty(l)||(t[l]={}),t[l].hasOwnProperty(g.toLowerCase())||(t[l][g.toLowerCase()]=g),e.cookies.set("search_history",JSON.stringify(t),{path:"/",maxAge:31536e3})),f("");case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),N=function(e){"Enter"===e.key&&k()};function j(){return"battle"===l?"Search Battle.net...":"psn"===l?"Search PlayStation Network...":"Search Xbox Live..."}return r.a.createElement(S.a,{freeSolo:!0,options:h&&h.hasOwnProperty(l)?Object.keys(h[l]):[],getOptionLabel:function(e){return e},openOnFocus:!1,value:g,filterSelectedOptions:!0,onChange:function(e,a){return f(a)},onInputChange:function(e,a){f(a)},renderInput:function(e){return e.inputProps.onKeyDown=N,r.a.createElement(E.a,Object.assign({},e,{placeholder:j(),InputProps:Object(s.a)({},e.InputProps,{placeholder:j(),startAdornment:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{style:{marginBottom:"5px"}},r.a.createElement(y.a,{className:a.platformButton,color:"inherit",onClick:b},r.a.createElement(x.a,null,r.a.createElement("img",{"data-value":"battle",src:L.a,alt:"Battle.net icon",className:"battle"===l?"icon-selected":""})))),r.a.createElement(v.a,{style:{marginBottom:"5px"}},r.a.createElement(y.a,{className:a.platformButton,color:"inherit",onClick:b},r.a.createElement(x.a,null,r.a.createElement("img",{"data-value":"psn",src:w.a,alt:"PSN icon",className:"psn"===l?"icon-selected":""})))),r.a.createElement(v.a,{style:{marginBottom:"5px"}},r.a.createElement(y.a,{className:a.platformButton,color:"inherit",onClick:b},r.a.createElement(x.a,null,r.a.createElement("img",{"data-value":"xbl",src:P.a,alt:"Xbox icon",className:"xbl"===l?"icon-selected":""}))))),endAdornment:r.a.createElement(v.a,{style:{marginBottom:"5px"}},r.a.createElement(y.a,{color:"primary",onClick:function(e){return k(g,l)}},r.a.createElement(O.a,null)))}),fullWidth:!0}))}})}var I=t(204),F=t(98),T=t(227),A=t(211),D=t(212),M=t(225),W=t(222),K=t(73),z=t.n(K),G="https://my.callofduty.com/api/papi-client/stats/cod/v1/title/mw/platform/",H={getUser:function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.replace("#","%23"),r="".concat(G+t,"/gamer/").concat(n,"/profile/type/mp"),e.next=4,z.a.get(r);case 4:if("error"===(c=e.sent).data.status){e.next=9;break}return e.abrupt("return",c.data);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),getFriendsStats:function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.replace("#","%23"),r="".concat(G+t,"/gamer/").concat(n,"/profile/friends/type/mp"),e.next=4,z.a.get(r);case 4:if("error"===(c=e.sent).data.status){e.next=9;break}return e.abrupt("return",c.data);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},J=t(201),U=t(202),_=t(217),q=t(203),V=t(93),X=t.n(V),Y=t(94),$=t.n(Y),Q=t(95),Z=t.n(Q),ee=Object(d.a)((function(e){return{root:Object(s.a)({},e.typography.button),closeButton:{marginLeft:"auto"}}}));function ae(e){var a=ee(),t=e.data,n=t.userName,c=t.wins,l=t.kills,o=t.kdRatio,i=t.downs,s=t.topTwentyFive,u=t.topTen,m=(t.contracts,t.revives,t.topFive),d=t.score,p=t.timePlayed,g=t.gamesPlayed,h=(t.scorePerMinute,t.cash,t.deaths),b=e.colors,E=function(e){return"none"===b[e]?null:"error"===b[e]?r.a.createElement(X.a,{color:"error",fontSize:"inherit"}):"primary"===b[e]?r.a.createElement($.a,{color:"primary",fontSize:"inherit"}):void 0};return r.a.createElement(J.a,null,r.a.createElement(y.a,{onClick:function(a){e.removeCard(n)}},r.a.createElement(Z.a,null)),r.a.createElement(U.a,{align:"center"},r.a.createElement(f.a,{align:"center",className:a.root,gutterBottom:!0},n),r.a.createElement(_.a,{className:"circle",margin:2},r.a.createElement(f.a,{align:"center",variant:"h5"},E("kdRatio"),parseFloat(o).toFixed(2),r.a.createElement(f.a,{align:"center",variant:"h5",className:a.root},"K/D Ratio"))),r.a.createElement(q.a,null),r.a.createElement(I.a,{container:!0,spacing:2},r.a.createElement(I.a,{item:!0,xs:6},r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Kills"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("kills"),l.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Deaths"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("deaths"),h.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Downs"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("downs"),i.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Score"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("score"),d.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Time Played"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("timePlayed"),function(e){var a=Math.floor(e/86400).toLocaleString(),t=e%86400,n=Math.floor(t/3600).toLocaleString();t%=3600;var r=Math.floor(t/60).toLocaleString();return t%=60,"".concat(a," days, ").concat(n," hours, ").concat(r," minutes, ").concat(t," seconds")}(p))),r.a.createElement(I.a,{item:!0,xs:6},r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Wins"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("wins"),c.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Games Played"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("gamesPlayed"),g.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Top 5"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("topFive"),m.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Top 10"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("topTen"),u.toLocaleString()),r.a.createElement(f.a,{align:"left",variant:"h5",className:a.root,color:"textSecondary"},"Top 25"),r.a.createElement(f.a,{align:"left",variant:"h4",className:a.root},E("topTwentyFive"),s.toLocaleString())))))}var te=t(213),ne=t(55),re=t(3),ce=t(7),le=t(209),oe=t(210),ie=t(207),se=t(208),ue=t(205),me=t(219),de=t(206),pe=t(229),ge=t(221);function fe(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var he=[{id:"userName",numeric:!1,disablePadding:!0,label:"USER"},{id:"kills",numeric:!0,disablePadding:!1,label:"KILLS"},{id:"deaths",numeric:!0,disablePadding:!1,label:"DEATHS"},{id:"downs",numeric:!0,disablePadding:!1,label:"DOWNS"},{id:"avgKills",numeric:!0,disablePadding:!1,label:"AVG. KILLS"},{id:"kdRatio",numeric:!0,disablePadding:!1,label:"K/D RATIO"},{id:"gamesPlayed",numeric:!0,disablePadding:!1,label:"GAMES PLAYED"},{id:"wins",numeric:!0,disablePadding:!1,label:"WINS"},{id:"score",numeric:!0,disablePadding:!1,label:"SCORE"},{id:"avgScore",numeric:!0,disablePadding:!1,label:"AVG. SCORE"}],be=function(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,c=e.orderBy,l=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.a.createElement(ue.a,null,r.a.createElement(de.a,null,r.a.createElement(ie.a,{padding:"checkbox"},r.a.createElement(ge.a,{indeterminate:l>0&&l<o,checked:o>0&&l===o,onChange:t,color:"default",inputProps:{"aria-label":"select all users"}})),he.map((function(e){return r.a.createElement(ie.a,{key:e.id,align:"left",padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n},r.a.createElement(pe.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,c===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))},Ee=Object(d.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ce.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.secondary,backgroundColor:e.palette.primary},title:{flex:"1 1 100%"}}})),ve=function(e){var a=Ee(),t=e.numSelected;return r.a.createElement(g.a,{className:Object(re.a)(a.root,Object(ne.a)({},a.highlight,t>0))},t>0?r.a.createElement(f.a,{className:a.title,color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement(f.a,{className:a.title,variant:"h6",id:"tableTitle"},"Leaderboards"))},ye=Object(d.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ke(e){var a=ye(),t=r.a.useState("desc"),n=Object(m.a)(t,2),c=n[0],l=n[1],o=r.a.useState("score"),i=Object(m.a)(o,2),u=i[0],d=i[1],p=e.selected,g=r.a.useState(0),f=Object(m.a)(g,2),h=f[0],b=f[1],E=r.a.useState(10),v=Object(m.a)(E,2),y=v[0],k=v[1];function O(a){e.changeSelected(a)}var S=y-Math.min(y,e.data.length-h*y);return e.data?r.a.createElement("div",{className:a.root},r.a.createElement(F.a,{className:a.paper},r.a.createElement(ve,{numSelected:Object.keys(p).length}),r.a.createElement(se.a,null,r.a.createElement(le.a,{className:a.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"leaderboards"},r.a.createElement(be,{classes:a,numSelected:Object.keys(p).length,order:c,orderBy:u,onSelectAllClick:function(a){if(a.target.checked){var t={};return e.data.forEach((function(a){t[a.userName]={data:e.data[a]}})),void O(t)}O({})},onRequestSort:function(e,a){l(u===a&&"asc"===c?"desc":"asc"),d(a)},rowCount:e.data.length}),r.a.createElement(oe.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(e.data,function(e,a){return"desc"===e?function(e,t){return fe(e,t,a)}:function(e,t){return-fe(e,t,a)}}(c,u)).slice(h*y,h*y+y).map((function(e,a){var t,n=(t=e.userName,!!p.hasOwnProperty(t)),c="user-checkbox-".concat(a);return r.a.createElement(de.a,{hover:!0,onClick:function(a){return function(e,a){console.log(a);var t=Object(s.a)({},p);p.hasOwnProperty(a.userName)?delete t[a.userName]:t[a.userName]={data:a},O(t)}(0,e)},role:"checkbox","aria-checked":n,tabIndex:-1,className:n?"row-selected":null,selected:n},r.a.createElement(ie.a,{padding:"checkbox"},r.a.createElement(ge.a,{checked:n,color:"default",inputProps:{"aria-labelledby":c}})),r.a.createElement(ie.a,{component:"th",id:c,scope:"row",padding:"none"},e.userName),r.a.createElement(ie.a,{align:"left"},e.kills),r.a.createElement(ie.a,{align:"left"},e.deaths),r.a.createElement(ie.a,{align:"left"},e.downs),r.a.createElement(ie.a,{align:"left"},e.avgKills),r.a.createElement(ie.a,{align:"left"},e.kdRatio),r.a.createElement(ie.a,{align:"left"},e.gamesPlayed),r.a.createElement(ie.a,{align:"left"},e.wins),r.a.createElement(ie.a,{align:"left"},e.score),r.a.createElement(ie.a,{align:"left"},e.avgScore))})),S>0&&r.a.createElement(de.a,{style:{height:53*S}},r.a.createElement(ie.a,{colSpan:6}))))),r.a.createElement(me.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.data.length,rowsPerPage:y,page:h,onChangePage:function(e,a){b(a)},onChangeRowsPerPage:function(e){k(parseInt(e.target.value,10)),b(0)}}))):null}var Oe=Object(d.a)((function(e){return{root:{display:"flex",justifyContent:"start",flexWrap:"wrap",padding:e.spacing(.5),marginBottom:"2rem"},chip:{margin:e.spacing(.5)}}}));function Se(e){var a=Object.keys(e),t={};return a.length<2?null:(a.forEach((function(a){Object.keys(e[a].data).forEach((function(n){t.hasOwnProperty(n)&&e[a].data[n]>e[t[n]].data[n]?t[n]=a:t.hasOwnProperty(n)||(t[n]=a)}))})),t)}function xe(e,a){var t={};return a?(Object.keys(a).forEach((function(n){a[n]!==e.data.userName?t[n]="error":t[n]="primary"})),t):(Object.keys(e.data).forEach((function(e){t[e]="none"})),t)}var Ne=Object(te.a)((function(e){var a=Oe(),t=Object(n.useState)({}),c=Object(m.a)(t,2),l=c[0],o=c[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),g=p[0],f=p[1],h=Object(n.useState)(!1),E=Object(m.a)(h,2),v=E[0],y=E[1],k=Object(n.useState)({}),O=Object(m.a)(k,2),S=O[0],x=O[1],N=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,c,u,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.hasOwnProperty(a)){e.next=2;break}return e.abrupt("return",!1);case 2:return y(!0),e.next=5,H.getUser(a,t);case 5:if(!(n=e.sent)){e.next=31;break}if(c={},(r={}).data=n.data.lifetime.mode.br.properties,r.data.kdRatio=parseFloat(r.data.kdRatio.toFixed(2)),r.data.avgKills=parseInt(Math.round(r.data.kills/r.data.gamesPlayed)),r.data.avgScore=parseInt(Math.round(r.data.score/r.data.gamesPlayed)),r.data.userName=n.data.username,r.data.platform=t,(u=Object(s.a)({},l))[r.data.userName]=r,c[r.data.userName]=r,0!==Object.keys(l).length){e.next=23;break}return e.next=21,H.getFriendsStats(a,t);case 21:(m=e.sent)&&"success"===m.status&&(m=(m=m.data).forEach((function(e){"uno"===e.platform&&(e.platform="battle");var a=e.lifetime.mode.br.properties;a.kdRatio=parseFloat(a.kdRatio.toFixed(2)),c[e.username]={data:Object(s.a)({},a,{userName:e.username,avgKills:parseInt(Math.round(a.kills/a.gamesPlayed)),avgScore:parseInt(Math.round(a.score/a.gamesPlayed)),platform:e.platform})}})));case 23:return d=Se(l),Object.keys(u).forEach((function(e){u[e].colors=xe(u[e],d)})),y(!1),o(u),x(c),e.abrupt("return",!0);case 31:return f(!0),e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),w=function(e){var a=Object(s.a)({},l);delete a[e],o(a)},j=function(e){var a=Se(e);Object.keys(e).forEach((function(t){e[t].colors=xe(e[t],a)})),o(e)},P=function(){f(!1)};return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(D.a,{maxWidth:"lg"},Object.keys(l).length>0?r.a.createElement(F.a,{className:a.root},Object.keys(l).map((function(e){return r.a.createElement(T.a,{key:e,label:e,onDelete:function(a){return w(e)},className:a.chip})}))):null,r.a.createElement(R,{search:N,cookies:e.cookies}),r.a.createElement(I.a,{container:!0,spacing:3,className:"stats-container"},v?r.a.createElement(I.a,{item:!0,sm:12},r.a.createElement(A.a,{color:"primary"})):null,Object.keys(l).length>0?Object.keys(l).map((function(e){return r.a.createElement(I.a,{item:!0,key:e,sm:6},r.a.createElement(ae,{data:l[e].data,colors:l[e].colors,removeCard:w}))})):null,Object.keys(S).length>1?r.a.createElement(I.a,{item:!0,sm:12},r.a.createElement(ke,{data:Object.keys(S).map((function(e){return S[e].data})),selected:l,changeSelected:j})):null)),r.a.createElement(M.a,{open:g,autoHideDuration:3e3,onClose:P,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(W.a,{onClose:P,severity:"error"},"The username you entered was invalid.")))})),we=t(216),je=t(96),Pe=t(215);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=t(214),Le=Object(je.a)({palette:{type:"dark"}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce.a,null,r.a.createElement(Pe.a,{theme:Le},r.a.createElement(we.a,null),r.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,a,t){},88:function(e,a,t){e.exports=t.p+"static/media/psn.70872efd.svg"},89:function(e,a,t){e.exports=t.p+"static/media/xbox.faa28b5a.svg"},90:function(e,a,t){e.exports=t.p+"static/media/battle-net.355d0860.svg"}},[[112,1,2]]]);
//# sourceMappingURL=main.fa4666ab.chunk.js.map